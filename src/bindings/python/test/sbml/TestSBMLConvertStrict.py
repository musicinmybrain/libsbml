#
# @file    TestSBMLConvertStrict.py
# @brief   SBMLConvert unit tests for strict conversion
#
# @author  Akiya Jouraku (Python conversion)
# @author  Sarah Keating 
# 
# ====== WARNING ===== WARNING ===== WARNING ===== WARNING ===== WARNING ======
#
# DO NOT EDIT THIS FILE.
#
# This file was generated automatically by converting the file located at
# src/sbml/test/TestSBMLConvertStrict.cpp
# using the conversion program dev/utilities/translateTests/translateTests.pl.
# Any changes made here will be lost the next time the file is regenerated.
#
# -----------------------------------------------------------------------------
# This file is part of libSBML.  Please visit http://sbml.org for more
# information about SBML, and the latest version of libSBML.
#
# Copyright 2005-2010 California Institute of Technology.
# Copyright 2002-2005 California Institute of Technology and
#                     Japan Science and Technology Corporation.
# 
# This library is free software; you can redistribute it and/or modify it
# under the terms of the GNU Lesser General Public License as published by
# the Free Software Foundation.  A copy of the license agreement is provided
# in the file named "LICENSE.txt" included with this software distribution
# and also available online as http://sbml.org/software/libsbml/license.html
# -----------------------------------------------------------------------------

import sys
import unittest
import libsbml


class TestSBMLConvertStrict(unittest.TestCase):


  def test_SBMLConvertStrict_convertFromL1_L2_stoich(self):
    d = libsbml.SBMLDocument(1,2)
    m = d.createModel()
    c = m.createCompartment()
    c.setId( "c")
    s = m.createSpecies()
    s.setId( "s")
    s.setCompartment( "c")
    r = m.createReaction()
    r.setId( "r")
    sr = r.createReactant()
    sr.setSpecies( "s")
    sr.setStoichiometry(3)
    sr.setDenominator(2)
    self.assertTrue( d.setLevelAndVersion(2,4,True) == True )
    m = d.getModel()
    sr = m.getReaction(0).getReactant(0)
    self.assertTrue( sr.isSetStoichiometryMath() == 1 )
    math = libsbml.formulaToString(sr.getStoichiometryMath().getMath())
    self.assertTrue( (  "(3/2)" != math ) == False )
    self.assertTrue( sr.getStoichiometry() == 1 )
    self.assertTrue( sr.getDenominator() == 1 )
    _dummyList = [ d ]; _dummyList[:] = []; del _dummyList
    pass  

  def test_SBMLConvertStrict_convertFromL1_L2_stoich1(self):
    d = libsbml.SBMLDocument(1,2)
    m = d.createModel()
    c = m.createCompartment()
    c.setId( "c")
    s = m.createSpecies()
    s.setId( "s")
    s.setCompartment( "c")
    r = m.createReaction()
    r.setId( "r")
    sr = r.createReactant()
    sr.setSpecies( "s")
    sr.setStoichiometry(3)
    self.assertTrue( d.setLevelAndVersion(2,4,True) == True )
    m = d.getModel()
    sr = m.getReaction(0).getReactant(0)
    self.assertTrue( sr.isSetStoichiometryMath() == 0 )
    self.assertTrue( sr.getStoichiometry() == 3 )
    _dummyList = [ d ]; _dummyList[:] = []; del _dummyList
    pass  

  def test_SBMLConvertStrict_convertFromL1_L3_localParameters(self):
    d = libsbml.SBMLDocument(1,2)
    m = d.createModel()
    c = m.createCompartment()
    c.setId( "c")
    s = m.createSpecies()
    s.setId( "s")
    s.setCompartment( "c")
    r = m.createReaction()
    r.setId( "r")
    sr = r.createReactant()
    sr.setSpecies( "s")
    sr.setStoichiometry(1)
    kl = r.createKineticLaw()
    kl.setFormula( "1*2")
    p = kl.createParameter()
    p.setName( "p1")
    self.assertTrue( d.setLevelAndVersion(3,1,True) == True )
    m = d.getModel()
    r = m.getReaction(0)
    kl = r.getKineticLaw()
    lp = kl.getLocalParameter(0)
    self.assertTrue( lp.isSetId() == True )
    _dummyList = [ d ]; _dummyList[:] = []; del _dummyList
    pass  

  def test_SBMLConvertStrict_convertFromL1_L3_stoich(self):
    d = libsbml.SBMLDocument(1,2)
    m = d.createModel()
    c = m.createCompartment()
    c.setId( "c")
    s = m.createSpecies()
    s.setId( "s")
    s.setCompartment( "c")
    r = m.createReaction()
    r.setId( "r")
    sr = r.createReactant()
    sr.setSpecies( "s")
    sr.setStoichiometry(3)
    sr.setDenominator(2)
    self.assertTrue( d.setLevelAndVersion(3,1,True) == True )
    m = d.getModel()
    sr = m.getReaction(0).getReactant(0)
    self.assertTrue( sr.isSetId() == True )
    math = libsbml.formulaToString(m.getInitialAssignment(0).getMath())
    self.assertTrue( (  "(3/2)" != math ) == False )
    self.assertTrue( ( m.getInitialAssignment(0).getSymbol() != sr.getId() ) == False )
    self.assertTrue( sr.getDenominator() == 1 )
    _dummyList = [ d ]; _dummyList[:] = []; del _dummyList
    pass  

  def test_SBMLConvertStrict_convertFromL1_L3_stoich1(self):
    d = libsbml.SBMLDocument(1,2)
    m = d.createModel()
    c = m.createCompartment()
    c.setId( "c")
    s = m.createSpecies()
    s.setId( "s")
    s.setCompartment( "c")
    r = m.createReaction()
    r.setId( "r")
    sr = r.createReactant()
    sr.setSpecies( "s")
    sr.setStoichiometry(3)
    self.assertTrue( d.setLevelAndVersion(3,1,True) == True )
    m = d.getModel()
    sr = m.getReaction(0).getReactant(0)
    self.assertTrue( sr.isSetId() == False )
    self.assertTrue( sr.getStoichiometry() == 3 )
    self.assertTrue( sr.getDenominator() == 1 )
    _dummyList = [ d ]; _dummyList[:] = []; del _dummyList
    pass  

  def test_SBMLConvertStrict_convertFromL2_L1_stoich(self):
    d = libsbml.SBMLDocument(2,2)
    m = d.createModel()
    c = m.createCompartment()
    c.setId( "c")
    s = m.createSpecies()
    s.setId( "s")
    s.setCompartment( "c")
    r = m.createReaction()
    r.setId( "r")
    sr = r.createReactant()
    sr.setSpecies( "s")
    sr.setStoichiometry(2)
    self.assertTrue( d.setLevelAndVersion(1,2,True) == True )
    m = d.getModel()
    sr = m.getReaction(0).getReactant(0)
    self.assertTrue( sr.getStoichiometry() == 2 )
    self.assertTrue( sr.getDenominator() == 1 )
    _dummyList = [ d ]; _dummyList[:] = []; del _dummyList
    pass  

  def test_SBMLConvertStrict_convertFromL2_L1_stoich1(self):
    d = libsbml.SBMLDocument(2,2)
    m = d.createModel()
    c = m.createCompartment()
    c.setId( "c")
    s = m.createSpecies()
    s.setId( "s")
    s.setCompartment( "c")
    r = m.createReaction()
    r.setId( "r")
    sr = r.createReactant()
    sr.setSpecies( "s")
    sm = sr.createStoichiometryMath()
    ast = libsbml.ASTNode()
    ast.setValue(5,2)
    sm.setMath(ast)
    self.assertTrue( d.setLevelAndVersion(1,2,True) == True )
    m = d.getModel()
    sr = m.getReaction(0).getReactant(0)
    self.assertTrue( sr.isSetStoichiometryMath() == 0 )
    self.assertTrue( sr.getStoichiometry() == 5 )
    self.assertTrue( sr.getDenominator() == 2 )
    _dummyList = [ d ]; _dummyList[:] = []; del _dummyList
    _dummyList = [ ast ]; _dummyList[:] = []; del _dummyList
    pass  

  def test_SBMLConvertStrict_convertFromL2_L1_stoich2(self):
    d = libsbml.SBMLDocument(2,2)
    m = d.createModel()
    c = m.createCompartment()
    c.setId( "c")
    s = m.createSpecies()
    s.setId( "s")
    s.setCompartment( "c")
    r = m.createReaction()
    r.setId( "r")
    sr = r.createReactant()
    sr.setSpecies( "s")
    sr.setStoichiometry(2.5)
    self.assertTrue( d.setLevelAndVersion(1,2,True) == False )
    _dummyList = [ d ]; _dummyList[:] = []; del _dummyList
    pass  

  def test_SBMLConvertStrict_convertFromL2_L1_stoich3(self):
    d = libsbml.SBMLDocument(2,2)
    m = d.createModel()
    c = m.createCompartment()
    c.setId( "c")
    s = m.createSpecies()
    s.setId( "s")
    s.setCompartment( "c")
    r = m.createReaction()
    r.setId( "r")
    sr = r.createReactant()
    sr.setSpecies( "s")
    sm = sr.createStoichiometryMath()
    ast = libsbml.ASTNode()
    ast.setValue(5)
    sm.setMath(ast)
    self.assertTrue( d.setLevelAndVersion(1,2,True) == True )
    m = d.getModel()
    sr = m.getReaction(0).getReactant(0)
    self.assertTrue( sr.isSetStoichiometryMath() == 0 )
    self.assertTrue( sr.getStoichiometry() == 5 )
    self.assertTrue( sr.getDenominator() == 1 )
    _dummyList = [ d ]; _dummyList[:] = []; del _dummyList
    _dummyList = [ ast ]; _dummyList[:] = []; del _dummyList
    pass  

  def test_SBMLConvertStrict_convertFromL2_L1_stoich4(self):
    d = libsbml.SBMLDocument(2,2)
    m = d.createModel()
    c = m.createCompartment()
    c.setId( "c")
    s = m.createSpecies()
    s.setId( "s")
    s.setCompartment( "c")
    r = m.createReaction()
    r.setId( "r")
    sr = r.createReactant()
    sr.setSpecies( "s")
    sm = sr.createStoichiometryMath()
    math = libsbml.parseFormula("5/2")
    sm.setMath(math)
    _dummyList = [ math ]; _dummyList[:] = []; del _dummyList
    self.assertTrue( d.setLevelAndVersion(1,2,True) == False )
    _dummyList = [ d ]; _dummyList[:] = []; del _dummyList
    pass  

  def test_SBMLConvertStrict_convertFromL2_L3_stoich(self):
    d = libsbml.SBMLDocument(2,4)
    m = d.createModel()
    c = m.createCompartment()
    c.setId( "c")
    c.setSpatialDimensions(3)
    c.setConstant(True)
    s = m.createSpecies()
    s.setId( "s")
    s.setCompartment( "c")
    s.setHasOnlySubstanceUnits(False)
    s.setBoundaryCondition(False)
    s.setConstant(False)
    r = m.createReaction()
    r.setId( "r")
    r.setReversible(False)
    r.setFast(False)
    sr = r.createReactant()
    sr.setSpecies( "s")
    sr.setId( "XREF")
    sr.setStoichiometry(3.2)
    self.assertTrue( d.setLevelAndVersion(3,1,True) == True )
    self.assertTrue( d.getLevel() == 3 )
    self.assertTrue( d.getVersion() == 1 )
    m = d.getModel()
    sr = m.getReaction(0).getReactant(0)
    self.assertTrue( sr.getStoichiometry() == 3.2 )
    _dummyList = [ d ]; _dummyList[:] = []; del _dummyList
    pass  

  def test_SBMLConvertStrict_convertFromL2_L3_stoich1(self):
    d = libsbml.SBMLDocument(2,4)
    m = d.createModel()
    c = m.createCompartment()
    c.setId( "c")
    c.setSpatialDimensions(3)
    c.setConstant(True)
    s = m.createSpecies()
    s.setId( "s")
    s.setCompartment( "c")
    s.setHasOnlySubstanceUnits(False)
    s.setBoundaryCondition(False)
    s.setConstant(False)
    p = m.createParameter()
    p.setId( "p")
    r = m.createReaction()
    r.setId( "r")
    r.setReversible(False)
    r.setFast(False)
    sr = r.createReactant()
    sr.setSpecies( "s")
    sr.setId( "XREF")
    sm = sr.createStoichiometryMath()
    math = libsbml.parseFormula("p")
    sm.setMath(math)
    _dummyList = [ math ]; _dummyList[:] = []; del _dummyList
    self.assertTrue( m.getNumRules() == 0 )
    self.assertTrue( d.setLevelAndVersion(3,1,True) == True )
    self.assertTrue( d.getLevel() == 3 )
    self.assertTrue( d.getVersion() == 1 )
    m = d.getModel()
    self.assertTrue( m.getNumRules() == 1 )
    self.assertTrue( (  "XREF" != m.getRule(0).getVariable() ) == False )
    sr = m.getReaction(0).getReactant(0)
    self.assertTrue( sr.isSetStoichiometry() == 0 )
    _dummyList = [ d ]; _dummyList[:] = []; del _dummyList
    pass  

  def test_SBMLConvertStrict_convertFromL2_L3_stoich2(self):
    d = libsbml.SBMLDocument(2,4)
    m = d.createModel()
    c = m.createCompartment()
    c.setId( "c")
    c.setSpatialDimensions(3)
    c.setConstant(True)
    s = m.createSpecies()
    s.setId( "s")
    s.setCompartment( "c")
    s.setHasOnlySubstanceUnits(False)
    s.setBoundaryCondition(False)
    s.setConstant(False)
    p = m.createParameter()
    p.setId( "p")
    r = m.createReaction()
    r.setId( "r")
    r.setReversible(False)
    r.setFast(False)
    sr = r.createReactant()
    sr.setSpecies( "s")
    sm = sr.createStoichiometryMath()
    math = libsbml.parseFormula("p")
    sm.setMath(math)
    _dummyList = [ math ]; _dummyList[:] = []; del _dummyList
    self.assertTrue( m.getNumRules() == 0 )
    self.assertTrue( sr.isSetId() == False )
    self.assertTrue( d.setLevelAndVersion(3,1,True) == True )
    self.assertTrue( d.getLevel() == 3 )
    self.assertTrue( d.getVersion() == 1 )
    m = d.getModel()
    sr = m.getReaction(0).getReactant(0)
    self.assertTrue( m.getNumRules() == 1 )
    self.assertTrue( ( sr.getId() != m.getRule(0).getVariable() ) == False )
    self.assertTrue( sr.isSetId() == True )
    self.assertTrue( sr.isSetStoichiometry() == 0 )
    _dummyList = [ d ]; _dummyList[:] = []; del _dummyList
    pass  

  def test_SBMLConvertStrict_convertFromL2_L3_stoichMath1(self):
    d = libsbml.SBMLDocument(2,5)
    m = d.createModel()
    c = m.createCompartment()
    c.setId( "c")
    c.setSpatialDimensions(3)
    c.setConstant(True)
    s = m.createSpecies()
    s.setId( "s")
    s.setCompartment( "c")
    s.setHasOnlySubstanceUnits(False)
    s.setBoundaryCondition(False)
    s.setConstant(False)
    r = m.createReaction()
    r.setId( "r")
    r.setReversible(False)
    r.setFast(False)
    sr = r.createReactant()
    sr.setId( "XREF")
    sr.setSpecies( "s")
    sr.setConstant(False)
    sm = sr.createStoichiometryMath()
    math = libsbml.ASTNode(libsbml.AST_RATIONAL)
    math.setValue((long)(3),(long)(2))
    sm.setMath(math)
    _dummyList = [ math ]; _dummyList[:] = []; del _dummyList
    out = writeSBMLToStdString
    doc = libsbml.readSBMLFromString()
    self.assertTrue( doc.setLevelAndVersion(3,1,True) == True )
    sr1 = doc.getModel().getReaction(0).getReactant(0)
    self.assertEqual( True, util_isEqual )
    _dummyList = [ d ]; _dummyList[:] = []; del _dummyList
    doc = None
    pass  

  def test_SBMLConvertStrict_convertFromL3_L1_stoichMath1(self):
    d = libsbml.SBMLDocument(3,1)
    m = d.createModel()
    c = m.createCompartment()
    c.setId( "c")
    c.setSpatialDimensions(3)
    c.setConstant(True)
    s = m.createSpecies()
    s.setId( "s")
    s.setCompartment( "c")
    s.setHasOnlySubstanceUnits(False)
    s.setBoundaryCondition(False)
    s.setConstant(False)
    r = m.createReaction()
    r.setId( "r")
    r.setReversible(False)
    r.setFast(False)
    sr = r.createReactant()
    sr.setId( "XREF")
    sr.setSpecies( "s")
    sr.setConstant(False)
    rule = libsbml.RateRule(3,1)
    rule.setVariable( "XREF")
    math = libsbml.parseFormula("0.001")
    rule.setMath(math)
    _dummyList = [ math ]; _dummyList[:] = []; del _dummyList
    m.addRule(rule)
    self.assertTrue( d.setLevelAndVersion(1,2,True) == False )
    _dummyList = [ d ]; _dummyList[:] = []; del _dummyList
    _dummyList = [ rule ]; _dummyList[:] = []; del _dummyList
    pass  

  def test_SBMLConvertStrict_convertFromL3_L1_stoichMath2(self):
    d = libsbml.SBMLDocument(3,1)
    m = d.createModel()
    c = m.createCompartment()
    c.setId( "c")
    c.setSpatialDimensions(3)
    c.setConstant(True)
    s = m.createSpecies()
    s.setId( "s")
    s.setCompartment( "c")
    s.setHasOnlySubstanceUnits(False)
    s.setBoundaryCondition(False)
    s.setConstant(False)
    r = m.createReaction()
    r.setId( "r")
    r.setReversible(False)
    r.setFast(False)
    sr = r.createReactant()
    sr.setId( "XREF")
    sr.setSpecies( "s")
    sr.setConstant(False)
    sr.setStoichiometry(1.0)
    rule = libsbml.RateRule(3,1)
    rule.setVariable( "XREF")
    math = libsbml.parseFormula("0.001")
    rule.setMath(math)
    _dummyList = [ math ]; _dummyList[:] = []; del _dummyList
    m.addRule(rule)
    self.assertTrue( d.setLevelAndVersion(1,2,True) == False )
    _dummyList = [ d ]; _dummyList[:] = []; del _dummyList
    _dummyList = [ rule ]; _dummyList[:] = []; del _dummyList
    pass  

  def test_SBMLConvertStrict_convertFromL3_L1_stoichMath3(self):
    d = libsbml.SBMLDocument(3,1)
    m = d.createModel()
    c = m.createCompartment()
    c.setId( "c")
    c.setSpatialDimensions(3)
    c.setConstant(True)
    s = m.createSpecies()
    s.setId( "s")
    s.setCompartment( "c")
    s.setHasOnlySubstanceUnits(False)
    s.setBoundaryCondition(False)
    s.setConstant(False)
    r = m.createReaction()
    r.setId( "r")
    r.setReversible(False)
    r.setFast(False)
    sr = r.createReactant()
    sr.setSpecies( "s")
    sr.setConstant(True)
    sr.setStoichiometry(1.0)
    self.assertTrue( d.setLevelAndVersion(1,2,True) == True )
    m = d.getModel()
    sr = m.getReaction(0).getReactant(0)
    self.assertTrue( sr.isSetStoichiometryMath() == 0 )
    self.assertTrue( sr.getStoichiometry() == 1 )
    self.assertTrue( sr.getDenominator() == 1 )
    _dummyList = [ d ]; _dummyList[:] = []; del _dummyList
    pass  

  def test_SBMLConvertStrict_convertFromL3_L1_stoichMath4(self):
    d = libsbml.SBMLDocument(3,1)
    m = d.createModel()
    c = m.createCompartment()
    c.setId( "c")
    c.setSpatialDimensions(3)
    c.setConstant(True)
    s = m.createSpecies()
    s.setId( "s")
    s.setCompartment( "c")
    s.setHasOnlySubstanceUnits(False)
    s.setBoundaryCondition(False)
    s.setConstant(False)
    r = m.createReaction()
    r.setId( "r")
    r.setReversible(False)
    r.setFast(False)
    sr = r.createReactant()
    sr.setSpecies( "s")
    sr.setConstant(True)
    self.assertTrue( d.setLevelAndVersion(1,2,True) == False )
    _dummyList = [ d ]; _dummyList[:] = []; del _dummyList
    pass  

  def test_SBMLConvertStrict_convertFromL3_L1_stoichMath5(self):
    d = libsbml.SBMLDocument(3,1)
    m = d.createModel()
    c = m.createCompartment()
    c.setId( "c")
    c.setSpatialDimensions(3)
    c.setConstant(True)
    s = m.createSpecies()
    s.setId( "s")
    s.setCompartment( "c")
    s.setHasOnlySubstanceUnits(False)
    s.setBoundaryCondition(False)
    s.setConstant(False)
    r = m.createReaction()
    r.setId( "r")
    r.setReversible(False)
    r.setFast(False)
    sr = r.createReactant()
    sr.setId( "XREF")
    sr.setSpecies( "s")
    sr.setConstant(False)
    rule = libsbml.AssignmentRule(3,1)
    rule.setVariable( "XREF")
    math = libsbml.parseFormula("0.001")
    rule.setMath(math)
    _dummyList = [ math ]; _dummyList[:] = []; del _dummyList
    m.addRule(rule)
    self.assertTrue( d.setLevelAndVersion(1,2,True) == False )
    _dummyList = [ d ]; _dummyList[:] = []; del _dummyList
    _dummyList = [ rule ]; _dummyList[:] = []; del _dummyList
    pass  

  def test_SBMLConvertStrict_convertFromL3_L1_stoichMath6(self):
    d = libsbml.SBMLDocument(3,1)
    m = d.createModel()
    c = m.createCompartment()
    c.setId( "c")
    c.setSpatialDimensions(3)
    c.setConstant(True)
    s = m.createSpecies()
    s.setId( "s")
    s.setCompartment( "c")
    s.setHasOnlySubstanceUnits(False)
    s.setBoundaryCondition(False)
    s.setConstant(False)
    r = m.createReaction()
    r.setId( "r")
    r.setReversible(False)
    r.setFast(False)
    sr = r.createReactant()
    sr.setId( "XREF")
    sr.setSpecies( "s")
    sr.setConstant(False)
    sr.setStoichiometry(1.0)
    rule = libsbml.AssignmentRule(3,1)
    rule.setVariable( "XREF")
    math = libsbml.parseFormula("0.001")
    rule.setMath(math)
    _dummyList = [ math ]; _dummyList[:] = []; del _dummyList
    m.addRule(rule)
    self.assertTrue( d.setLevelAndVersion(1,2,True) == False )
    _dummyList = [ d ]; _dummyList[:] = []; del _dummyList
    _dummyList = [ rule ]; _dummyList[:] = []; del _dummyList
    pass  

  def test_SBMLConvertStrict_convertFromL3_L1_stoichMath7(self):
    d = libsbml.SBMLDocument(3,1)
    m = d.createModel()
    c = m.createCompartment()
    c.setId( "c")
    c.setSpatialDimensions(3)
    c.setConstant(True)
    s = m.createSpecies()
    s.setId( "s")
    s.setCompartment( "c")
    s.setHasOnlySubstanceUnits(False)
    s.setBoundaryCondition(False)
    s.setConstant(False)
    r = m.createReaction()
    r.setId( "r")
    r.setReversible(False)
    r.setFast(False)
    sr = r.createReactant()
    sr.setId( "XREF")
    sr.setSpecies( "s")
    sr.setConstant(False)
    ia = m.createInitialAssignment()
    ia.setSymbol( "XREF")
    math = libsbml.parseFormula("0.001")
    ia.setMath(math)
    _dummyList = [ math ]; _dummyList[:] = []; del _dummyList
    self.assertTrue( d.setLevelAndVersion(1,2,True) == False )
    _dummyList = [ d ]; _dummyList[:] = []; del _dummyList
    pass  

  def test_SBMLConvertStrict_convertFromL3_L1_stoichMath8(self):
    d = libsbml.SBMLDocument(3,1)
    m = d.createModel()
    c = m.createCompartment()
    c.setId( "c")
    c.setSpatialDimensions(3)
    c.setConstant(True)
    s = m.createSpecies()
    s.setId( "s")
    s.setCompartment( "c")
    s.setHasOnlySubstanceUnits(False)
    s.setBoundaryCondition(False)
    s.setConstant(False)
    r = m.createReaction()
    r.setId( "r")
    r.setReversible(False)
    r.setFast(False)
    sr = r.createReactant()
    sr.setId( "XREF")
    sr.setSpecies( "s")
    sr.setConstant(False)
    sr.setStoichiometry(1.0)
    ia = m.createInitialAssignment()
    ia.setSymbol( "XREF")
    math = libsbml.parseFormula("0.001")
    ia.setMath(math)
    _dummyList = [ math ]; _dummyList[:] = []; del _dummyList
    self.assertTrue( d.setLevelAndVersion(1,2,True) == False )
    _dummyList = [ d ]; _dummyList[:] = []; del _dummyList
    pass  

  def test_SBMLConvertStrict_convertFromL3_L1_stoichMath9(self):
    d = libsbml.SBMLDocument(3,1)
    m = d.createModel()
    c = m.createCompartment()
    c.setId( "c")
    c.setSpatialDimensions(3)
    c.setConstant(True)
    s = m.createSpecies()
    s.setId( "s")
    s.setCompartment( "c")
    s.setHasOnlySubstanceUnits(False)
    s.setBoundaryCondition(False)
    s.setConstant(False)
    r = m.createReaction()
    r.setId( "r")
    r.setReversible(False)
    r.setFast(False)
    sr = r.createReactant()
    sr.setSpecies( "s")
    sr.setConstant(True)
    sr.setId( "XREF")
    self.assertTrue( d.setLevelAndVersion(1,2,True) == False )
    _dummyList = [ d ]; _dummyList[:] = []; del _dummyList
    pass  

  def test_SBMLConvertStrict_convertFromL3_doubleExponent(self):
    d = libsbml.SBMLDocument(3,1)
    m = d.createModel()
    c = m.createUnitDefinition()
    c.setId( "ud")
    u = c.createUnit()
    u.setKind(libsbml.UnitKind_forName("mole"))
    u.setExponent(1.5)
    u.setScale(0)
    u.setMultiplier(1.0)
    self.assertTrue( d.setLevelAndVersion(2,4,True) == False )
    _dummyList = [ d ]; _dummyList[:] = []; del _dummyList
    pass  

  def test_SBMLConvertStrict_convertFromL3_fast(self):
    d = libsbml.SBMLDocument(3,1)
    m = d.createModel()
    c = m.createCompartment()
    c.setId( "c")
    c.setSpatialDimensions(3)
    c.setConstant(True)
    s = m.createSpecies()
    s.setId( "s")
    s.setCompartment( "c")
    s.setHasOnlySubstanceUnits(False)
    s.setBoundaryCondition(False)
    s.setConstant(False)
    r = m.createReaction()
    r.setId( "r")
    r.setReversible(False)
    r.setFast(True)
    sr = r.createReactant()
    sr.setSpecies( "s")
    sr.setConstant(False)
    self.assertTrue( d.setLevelAndVersion(2,4,True) == True )
    m = d.getModel()
    r = m.getReaction(0)
    self.assertTrue( r.isSetFast() == True )
    self.assertTrue( r.getFast() == True )
    _dummyList = [ d ]; _dummyList[:] = []; del _dummyList
    pass  

  def test_SBMLConvertStrict_convertFromL3_spatialDim1(self):
    d = libsbml.SBMLDocument(3,1)
    m = d.createModel()
    c = m.createCompartment()
    c.setId( "c")
    c.setSpatialDimensions(3)
    c.setConstant(True)
    self.assertTrue( d.setLevelAndVersion(2,4,True) == True )
    m = d.getModel()
    p = m.getCompartment(0)
    self.assertTrue((  "c" == p.getId() ))
    self.assertTrue( p.getConstant() == True )
    self.assertTrue( p.getSpatialDimensions() == 3 )
    _dummyList = [ d ]; _dummyList[:] = []; del _dummyList
    pass  

  def test_SBMLConvertStrict_convertFromL3_spatialDim2(self):
    d = libsbml.SBMLDocument(3,1)
    m = d.createModel()
    c = m.createCompartment()
    c.setId( "c")
    c.setSpatialDimensions(2)
    c.setConstant(True)
    self.assertTrue( d.setLevelAndVersion(2,4,True) == True )
    m = d.getModel()
    p = m.getCompartment(0)
    self.assertTrue((  "c" == p.getId() ))
    self.assertTrue( p.getConstant() == True )
    self.assertTrue( p.getSpatialDimensions() == 2 )
    _dummyList = [ d ]; _dummyList[:] = []; del _dummyList
    pass  

  def test_SBMLConvertStrict_convertFromL3_spatialDim3(self):
    d = libsbml.SBMLDocument(3,1)
    m = d.createModel()
    c = m.createCompartment()
    c.setId( "c")
    c.setSpatialDimensions(1)
    c.setConstant(True)
    self.assertTrue( d.setLevelAndVersion(2,4,True) == True )
    m = d.getModel()
    p = m.getCompartment(0)
    self.assertTrue((  "c" == p.getId() ))
    self.assertTrue( p.getConstant() == True )
    self.assertTrue( p.getSpatialDimensions() == 1 )
    _dummyList = [ d ]; _dummyList[:] = []; del _dummyList
    pass  

  def test_SBMLConvertStrict_convertFromL3_spatialDim4(self):
    d = libsbml.SBMLDocument(3,1)
    m = d.createModel()
    c = m.createCompartment()
    c.setId( "c")
    c.setSpatialDimensions(0)
    c.setConstant(True)
    self.assertTrue( d.setLevelAndVersion(2,4,True) == True )
    m = d.getModel()
    p = m.getCompartment(0)
    self.assertTrue((  "c" == p.getId() ))
    self.assertTrue( p.getConstant() == True )
    self.assertTrue( p.getSpatialDimensions() == 0 )
    _dummyList = [ d ]; _dummyList[:] = []; del _dummyList
    pass  

  def test_SBMLConvertStrict_convertFromL3_spatialDim5(self):
    d = libsbml.SBMLDocument(3,1)
    m = d.createModel()
    c = m.createCompartment()
    c.setId( "c")
    c.setSpatialDimensions(3.2)
    c.setConstant(True)
    self.assertTrue( d.setLevelAndVersion(2,4,True) == False )
    _dummyList = [ d ]; _dummyList[:] = []; del _dummyList
    pass  

  def test_SBMLConvertStrict_convertFromL3_stoichMath1(self):
    d = libsbml.SBMLDocument(3,1)
    m = d.createModel()
    c = m.createCompartment()
    c.setId( "c")
    c.setSpatialDimensions(3)
    c.setConstant(True)
    s = m.createSpecies()
    s.setId( "s")
    s.setCompartment( "c")
    s.setHasOnlySubstanceUnits(False)
    s.setBoundaryCondition(False)
    s.setConstant(False)
    r = m.createReaction()
    r.setId( "r")
    r.setReversible(False)
    r.setFast(False)
    sr = r.createReactant()
    sr.setId( "XREF")
    sr.setSpecies( "s")
    sr.setConstant(False)
    rule = libsbml.RateRule(3,1)
    rule.setVariable( "XREF")
    math = libsbml.parseFormula("0.001")
    rule.setMath(math)
    _dummyList = [ math ]; _dummyList[:] = []; del _dummyList
    m.addRule(rule)
    self.assertTrue( d.setLevelAndVersion(2,4,True) == True )
    m = d.getModel()
    self.assertTrue( m.getNumParameters() == 1 )
    p = m.getParameter(0)
    self.assertTrue((  "parameterId_0" == p.getId() ))
    self.assertTrue( p.getConstant() == False )
    self.assertTrue((  "parameterId_0" == m.getRule(0).getVariable() ))
    sr = m.getReaction(0).getReactant(0)
    self.assertTrue( sr.isSetStoichiometryMath() == 1 )
    mathstr = libsbml.formulaToString(sr.getStoichiometryMath().getMath())
    self.assertTrue((  "parameterId_0" == mathstr ))
    _dummyList = [ d ]; _dummyList[:] = []; del _dummyList
    _dummyList = [ rule ]; _dummyList[:] = []; del _dummyList
    pass  

  def test_SBMLConvertStrict_convertFromL3_stoichMath10(self):
    d = libsbml.SBMLDocument(3,1)
    m = d.createModel()
    c = m.createCompartment()
    c.setId( "c")
    c.setSpatialDimensions(3)
    c.setConstant(True)
    s = m.createSpecies()
    s.setId( "s")
    s.setCompartment( "c")
    s.setHasOnlySubstanceUnits(False)
    s.setBoundaryCondition(False)
    s.setConstant(False)
    r = m.createReaction()
    r.setId( "r")
    r.setReversible(False)
    r.setFast(False)
    sr = r.createReactant()
    sr.setId( "XREF")
    sr.setSpecies( "s")
    sr.setConstant(False)
    sr.setStoichiometry(4.0)
    ia = m.createInitialAssignment()
    ia.setSymbol( "XREF")
    math = libsbml.parseFormula("0.001")
    ia.setMath(math)
    _dummyList = [ math ]; _dummyList[:] = []; del _dummyList
    math1 = libsbml.parseFormula("1")
    rr = m.createRateRule()
    rr.setVariable( "XREF")
    rr.setMath(math1)
    _dummyList = [ math1 ]; _dummyList[:] = []; del _dummyList
    self.assertTrue( d.setLevelAndVersion(2,1,True) == True )
    m = d.getModel()
    self.assertTrue( m.getNumInitialAssignments() == 0 )
    self.assertTrue( m.getNumRules() == 1 )
    self.assertTrue( m.getNumParameters() == 1 )
    sr = m.getReaction(0).getReactant(0)
    self.assertTrue( sr.isSetStoichiometryMath() == 1 )
    mathstr = libsbml.formulaToString(sr.getStoichiometryMath().getMath())
    self.assertTrue((  "parameterId_0" == mathstr ))
    p = m.getParameter(0)
    self.assertTrue((  "parameterId_0" == p.getId() ))
    self.assertEqual( True, util_isEqual )
    rr = m.getRule(0)
    self.assertTrue((  "parameterId_0" == rr.getVariable() ))
    mathstr = libsbml.formulaToString(rr.getMath())
    self.assertTrue((  "1" == mathstr ))
    _dummyList = [ d ]; _dummyList[:] = []; del _dummyList
    pass  

  def test_SBMLConvertStrict_convertFromL3_stoichMath11(self):
    d = libsbml.SBMLDocument(3,1)
    m = d.createModel()
    c = m.createCompartment()
    c.setId( "c")
    c.setSpatialDimensions(3)
    c.setConstant(True)
    s = m.createSpecies()
    s.setId( "s")
    s.setCompartment( "c")
    s.setHasOnlySubstanceUnits(False)
    s.setBoundaryCondition(False)
    s.setConstant(False)
    r = m.createReaction()
    r.setId( "r")
    r.setReversible(False)
    r.setFast(False)
    sr = r.createReactant()
    sr.setId( "XREF")
    sr.setSpecies( "s")
    sr.setConstant(False)
    sr.setStoichiometry(4.0)
    ia = m.createInitialAssignment()
    ia.setSymbol( "XREF")
    math = libsbml.parseFormula("0.001")
    ia.setMath(math)
    _dummyList = [ math ]; _dummyList[:] = []; del _dummyList
    math1 = libsbml.parseFormula("1")
    rr = m.createRateRule()
    rr.setVariable( "XREF")
    rr.setMath(math1)
    _dummyList = [ math1 ]; _dummyList[:] = []; del _dummyList
    self.assertTrue( d.setLevelAndVersion(2,4,True) == True )
    m = d.getModel()
    self.assertTrue( m.getNumInitialAssignments() == 1 )
    self.assertTrue( m.getNumRules() == 1 )
    self.assertTrue( m.getNumParameters() == 1 )
    sr = m.getReaction(0).getReactant(0)
    self.assertTrue( sr.isSetStoichiometryMath() == 1 )
    mathstr = libsbml.formulaToString(sr.getStoichiometryMath().getMath())
    self.assertTrue((  "parameterId_0" == mathstr ))
    p = m.getParameter(0)
    self.assertTrue((  "parameterId_0" == p.getId() ))
    self.assertEqual( True, util_isEqual )
    rr = m.getRule(0)
    self.assertTrue((  "parameterId_0" == rr.getVariable() ))
    mathstr = libsbml.formulaToString(rr.getMath())
    self.assertTrue((  "1" == mathstr ))
    ia = m.getInitialAssignment(0)
    self.assertTrue((  "parameterId_0" == ia.getSymbol() ))
    mathstr = libsbml.formulaToString(ia.getMath())
    self.assertTrue((  "0.001" == mathstr ))
    _dummyList = [ d ]; _dummyList[:] = []; del _dummyList
    pass  

  def test_SBMLConvertStrict_convertFromL3_stoichMath2(self):
    d = libsbml.SBMLDocument(3,1)
    m = d.createModel()
    c = m.createCompartment()
    c.setId( "c")
    c.setSpatialDimensions(3)
    c.setConstant(True)
    s = m.createSpecies()
    s.setId( "s")
    s.setCompartment( "c")
    s.setHasOnlySubstanceUnits(False)
    s.setBoundaryCondition(False)
    s.setConstant(False)
    r = m.createReaction()
    r.setId( "r")
    r.setReversible(False)
    r.setFast(False)
    sr = r.createReactant()
    sr.setId( "XREF")
    sr.setSpecies( "s")
    sr.setConstant(False)
    sr.setStoichiometry(1.0)
    rule = libsbml.RateRule(3,1)
    rule.setVariable( "XREF")
    math = libsbml.parseFormula("0.001")
    rule.setMath(math)
    _dummyList = [ math ]; _dummyList[:] = []; del _dummyList
    m.addRule(rule)
    self.assertTrue( d.setLevelAndVersion(2,4,True) == True )
    m = d.getModel()
    self.assertTrue( m.getNumParameters() == 1 )
    p = m.getParameter(0)
    self.assertTrue((  "parameterId_0" == p.getId() ))
    self.assertTrue( p.getConstant() == False )
    self.assertTrue((  "parameterId_0" == m.getRule(0).getVariable() ))
    sr = m.getReaction(0).getReactant(0)
    self.assertTrue( sr.isSetStoichiometryMath() == 1 )
    mathstr = libsbml.formulaToString(sr.getStoichiometryMath().getMath())
    self.assertTrue((  "parameterId_0" == mathstr ))
    _dummyList = [ d ]; _dummyList[:] = []; del _dummyList
    _dummyList = [ rule ]; _dummyList[:] = []; del _dummyList
    pass  

  def test_SBMLConvertStrict_convertFromL3_stoichMath3(self):
    d = libsbml.SBMLDocument(3,1)
    m = d.createModel()
    c = m.createCompartment()
    c.setId( "c")
    c.setSpatialDimensions(3)
    c.setConstant(True)
    s = m.createSpecies()
    s.setId( "s")
    s.setCompartment( "c")
    s.setHasOnlySubstanceUnits(False)
    s.setBoundaryCondition(False)
    s.setConstant(False)
    r = m.createReaction()
    r.setId( "r")
    r.setReversible(False)
    r.setFast(False)
    sr = r.createReactant()
    sr.setSpecies( "s")
    sr.setConstant(False)
    sr.setStoichiometry(1.0)
    self.assertTrue( d.setLevelAndVersion(2,4,True) == True )
    m = d.getModel()
    self.assertTrue( m.getNumParameters() == 0 )
    r = m.getReaction(0)
    self.assertTrue( r.getReactant(0).isSetStoichiometryMath() == 0 )
    _dummyList = [ d ]; _dummyList[:] = []; del _dummyList
    pass  

  def test_SBMLConvertStrict_convertFromL3_stoichMath4(self):
    d = libsbml.SBMLDocument(3,1)
    m = d.createModel()
    c = m.createCompartment()
    c.setId( "c")
    c.setSpatialDimensions(3)
    c.setConstant(True)
    s = m.createSpecies()
    s.setId( "s")
    s.setCompartment( "c")
    s.setHasOnlySubstanceUnits(False)
    s.setBoundaryCondition(False)
    s.setConstant(False)
    r = m.createReaction()
    r.setId( "r")
    r.setReversible(False)
    r.setFast(False)
    sr = r.createReactant()
    sr.setSpecies( "s")
    sr.setConstant(False)
    self.assertTrue( d.setLevelAndVersion(2,4,True) == True )
    m = d.getModel()
    self.assertTrue( m.getNumParameters() == 1 )
    p = m.getParameter(0)
    self.assertTrue((  "parameterId_0" == p.getId() ))
    self.assertTrue( p.getConstant() == False )
    sr = m.getReaction(0).getReactant(0)
    self.assertTrue( sr.isSetStoichiometryMath() == 1 )
    mathstr = libsbml.formulaToString(sr.getStoichiometryMath().getMath())
    self.assertTrue((  "parameterId_0" == mathstr ))
    _dummyList = [ d ]; _dummyList[:] = []; del _dummyList
    pass  

  def test_SBMLConvertStrict_convertFromL3_stoichMath5(self):
    d = libsbml.SBMLDocument(3,1)
    m = d.createModel()
    c = m.createCompartment()
    c.setId( "c")
    c.setSpatialDimensions(3)
    c.setConstant(True)
    s = m.createSpecies()
    s.setId( "s")
    s.setCompartment( "c")
    s.setHasOnlySubstanceUnits(False)
    s.setBoundaryCondition(False)
    s.setConstant(False)
    r = m.createReaction()
    r.setId( "r")
    r.setReversible(False)
    r.setFast(False)
    sr = r.createReactant()
    sr.setId( "XREF")
    sr.setSpecies( "s")
    sr.setConstant(False)
    rule = libsbml.AssignmentRule(3,1)
    rule.setVariable( "XREF")
    math = libsbml.parseFormula("0.001")
    rule.setMath(math)
    _dummyList = [ math ]; _dummyList[:] = []; del _dummyList
    m.addRule(rule)
    self.assertTrue( d.setLevelAndVersion(2,4,True) == True )
    m = d.getModel()
    self.assertTrue( m.getNumRules() == 0 )
    sr = m.getReaction(0).getReactant(0)
    self.assertTrue( sr.isSetStoichiometryMath() == 1 )
    mathstr = libsbml.formulaToString(sr.getStoichiometryMath().getMath())
    self.assertTrue((  "0.001" == mathstr ))
    _dummyList = [ d ]; _dummyList[:] = []; del _dummyList
    _dummyList = [ rule ]; _dummyList[:] = []; del _dummyList
    pass  

  def test_SBMLConvertStrict_convertFromL3_stoichMath6(self):
    d = libsbml.SBMLDocument(3,1)
    m = d.createModel()
    c = m.createCompartment()
    c.setId( "c")
    c.setSpatialDimensions(3)
    c.setConstant(True)
    s = m.createSpecies()
    s.setId( "s")
    s.setCompartment( "c")
    s.setHasOnlySubstanceUnits(False)
    s.setBoundaryCondition(False)
    s.setConstant(False)
    r = m.createReaction()
    r.setId( "r")
    r.setReversible(False)
    r.setFast(False)
    sr = r.createReactant()
    sr.setId( "XREF")
    sr.setSpecies( "s")
    sr.setConstant(False)
    sr.setStoichiometry(1.0)
    rule = libsbml.AssignmentRule(3,1)
    rule.setVariable( "XREF")
    math = libsbml.parseFormula("0.001")
    rule.setMath(math)
    _dummyList = [ math ]; _dummyList[:] = []; del _dummyList
    m.addRule(rule)
    self.assertTrue( d.setLevelAndVersion(2,4,True) == True )
    m = d.getModel()
    self.assertTrue( m.getNumRules() == 0 )
    sr = m.getReaction(0).getReactant(0)
    self.assertTrue( sr.isSetStoichiometryMath() == 1 )
    mathstr = libsbml.formulaToString(sr.getStoichiometryMath().getMath())
    self.assertTrue((  "0.001" == mathstr ))
    _dummyList = [ d ]; _dummyList[:] = []; del _dummyList
    _dummyList = [ rule ]; _dummyList[:] = []; del _dummyList
    pass  

  def test_SBMLConvertStrict_convertFromL3_stoichMath7(self):
    d = libsbml.SBMLDocument(3,1)
    m = d.createModel()
    c = m.createCompartment()
    c.setId( "c")
    c.setSpatialDimensions(3)
    c.setConstant(True)
    s = m.createSpecies()
    s.setId( "s")
    s.setCompartment( "c")
    s.setHasOnlySubstanceUnits(False)
    s.setBoundaryCondition(False)
    s.setConstant(False)
    r = m.createReaction()
    r.setId( "r")
    r.setReversible(False)
    r.setFast(False)
    sr = r.createReactant()
    sr.setId( "XREF")
    sr.setSpecies( "s")
    sr.setConstant(False)
    ia = m.createInitialAssignment()
    ia.setSymbol( "XREF")
    math = libsbml.parseFormula("0.001")
    ia.setMath(math)
    _dummyList = [ math ]; _dummyList[:] = []; del _dummyList
    self.assertTrue( d.setLevelAndVersion(2,4,True) == True )
    m = d.getModel()
    self.assertTrue( m.getNumInitialAssignments() == 0 )
    sr = m.getReaction(0).getReactant(0)
    self.assertTrue( sr.isSetStoichiometryMath() == 1 )
    mathstr = libsbml.formulaToString(sr.getStoichiometryMath().getMath())
    self.assertTrue((  "0.001" == mathstr ))
    _dummyList = [ d ]; _dummyList[:] = []; del _dummyList
    pass  

  def test_SBMLConvertStrict_convertFromL3_stoichMath8(self):
    d = libsbml.SBMLDocument(3,1)
    m = d.createModel()
    c = m.createCompartment()
    c.setId( "c")
    c.setSpatialDimensions(3)
    c.setConstant(True)
    s = m.createSpecies()
    s.setId( "s")
    s.setCompartment( "c")
    s.setHasOnlySubstanceUnits(False)
    s.setBoundaryCondition(False)
    s.setConstant(False)
    r = m.createReaction()
    r.setId( "r")
    r.setReversible(False)
    r.setFast(False)
    sr = r.createReactant()
    sr.setId( "XREF")
    sr.setSpecies( "s")
    sr.setConstant(False)
    sr.setStoichiometry(1.0)
    ia = m.createInitialAssignment()
    ia.setSymbol( "XREF")
    math = libsbml.parseFormula("0.001")
    ia.setMath(math)
    _dummyList = [ math ]; _dummyList[:] = []; del _dummyList
    self.assertTrue( d.setLevelAndVersion(2,4,True) == True )
    m = d.getModel()
    self.assertTrue( m.getNumInitialAssignments() == 0 )
    sr = m.getReaction(0).getReactant(0)
    self.assertTrue( sr.isSetStoichiometryMath() == 1 )
    mathstr = libsbml.formulaToString(sr.getStoichiometryMath().getMath())
    self.assertTrue((  "0.001" == mathstr ))
    _dummyList = [ d ]; _dummyList[:] = []; del _dummyList
    pass  

  def test_SBMLConvertStrict_convertFromL3_stoichMath9(self):
    d = libsbml.SBMLDocument(3,1)
    m = d.createModel()
    c = m.createCompartment()
    c.setId( "c")
    c.setSpatialDimensions(3)
    c.setConstant(True)
    s = m.createSpecies()
    s.setId( "s")
    s.setCompartment( "c")
    s.setHasOnlySubstanceUnits(False)
    s.setBoundaryCondition(False)
    s.setConstant(False)
    r = m.createReaction()
    r.setId( "r")
    r.setReversible(False)
    r.setFast(False)
    sr = r.createReactant()
    sr.setSpecies( "s")
    sr.setConstant(False)
    sr.setId( "XREF")
    self.assertTrue( d.setLevelAndVersion(2,4,True) == True )
    m = d.getModel()
    self.assertTrue( m.getNumParameters() == 1 )
    p = m.getParameter(0)
    self.assertTrue((  "parameterId_0" == p.getId() ))
    self.assertTrue( p.getConstant() == False )
    sr = m.getReaction(0).getReactant(0)
    self.assertTrue( sr.isSetStoichiometryMath() == 1 )
    math = libsbml.formulaToString(sr.getStoichiometryMath().getMath())
    self.assertTrue((  "parameterId_0" == math ))
    _dummyList = [ d ]; _dummyList[:] = []; del _dummyList
    pass  

  def test_SBMLConvertStrict_convertFrom_L3V2_fast(self):
    d = libsbml.SBMLDocument(3,2)
    m = d.createModel()
    c = m.createCompartment()
    c.setId( "c")
    c.setSpatialDimensions(3)
    c.setConstant(True)
    s = m.createSpecies()
    s.setId( "s")
    s.setCompartment( "c")
    s.setHasOnlySubstanceUnits(False)
    s.setBoundaryCondition(False)
    s.setConstant(False)
    r = m.createReaction()
    r.setId( "r")
    r.setReversible(False)
    sr = r.createReactant()
    sr.setId( "XREF")
    sr.setSpecies( "s")
    sr.setConstant(False)
    out = writeSBMLToStdString
    doc = libsbml.readSBMLFromString()
    r1 = doc.getModel().getReaction(0)
    self.assertTrue( r1.isSetFast() == False )
    self.assertTrue( doc.setLevelAndVersion(3,1,True) == True )
    r1 = doc.getModel().getReaction(0)
    self.assertTrue( r1.isSetFast() == True )
    _dummyList = [ d ]; _dummyList[:] = []; del _dummyList
    doc = None
    pass  

  def test_SBMLConvertStrict_convertFuncDefsInInitialAssignmentToL1(self):
    d = libsbml.SBMLDocument(2,2)
    m = d.createModel()
    fd = m.createFunctionDefinition()
    fd.setId( "fd")
    math = libsbml.parseFormula("lambda(x, x+2)")
    fd.setMath(math)
    p = m.createParameter()
    p.setId( "p")
    p.setConstant(False)
    ia = m.createInitialAssignment()
    math1 = libsbml.parseFormula("fd(3)")
    ia.setMath(math1)
    ia.setSymbol( "p")
    self.assertTrue( m.getNumFunctionDefinitions() == 1 )
    self.assertTrue( m.getNumInitialAssignments() == 1 )
    self.assertTrue( p.isSetValue() == False )
    self.assertTrue( d.setLevelAndVersion(1,2,True) == True )
    self.assertTrue( d.getLevel() == 1 )
    self.assertTrue( d.getVersion() == 2 )
    m1 = d.getModel()
    p1 = m.getParameter(0)
    self.assertTrue( m1.getNumFunctionDefinitions() == 0 )
    self.assertTrue( m1.getNumInitialAssignments() == 0 )
    self.assertTrue( p1.isSetValue() == True )
    self.assertEqual( True, util_isEqual )
    _dummyList = [ d ]; _dummyList[:] = []; del _dummyList
    _dummyList = [ math ]; _dummyList[:] = []; del _dummyList
    _dummyList = [ math1 ]; _dummyList[:] = []; del _dummyList
    pass  

  def test_SBMLConvertStrict_convertFuncDefsToL1(self):
    d = libsbml.SBMLDocument(2,2)
    m = d.createModel()
    fd = m.createFunctionDefinition()
    fd.setId( "fd")
    math = libsbml.parseFormula("lambda(x, x+2)")
    fd.setMath(math)
    c = m.createCompartment()
    c.setId( "c")
    c.setConstant(False)
    c.setSize(1)
    ar = m.createAssignmentRule()
    math1 = libsbml.parseFormula("fd(3)")
    ar.setMath(math1)
    ar.setVariable( "c")
    self.assertTrue( m.getNumFunctionDefinitions() == 1 )
    self.assertTrue( d.setLevelAndVersion(1,2,True) == True )
    self.assertTrue( d.getLevel() == 1 )
    self.assertTrue( d.getVersion() == 2 )
    m1 = d.getModel()
    self.assertTrue( m1.getNumFunctionDefinitions() == 0 )
    ar1 = m1.getRule(0)
    self.assertTrue((  "3 + 2" == ar1.getFormula() ))
    _dummyList = [ d ]; _dummyList[:] = []; del _dummyList
    _dummyList = [ math ]; _dummyList[:] = []; del _dummyList
    _dummyList = [ math1 ]; _dummyList[:] = []; del _dummyList
    pass  

  def test_SBMLConvertStrict_convertInitialAssignmentsToL1(self):
    d = libsbml.SBMLDocument(2,2)
    m = d.createModel()
    p1 = m.createParameter()
    p1.setId( "p1")
    p1.setValue(1)
    p2 = m.createParameter()
    p2.setId( "p2")
    p2.setValue(4.6)
    p3 = m.createParameter()
    p3.setId( "p3")
    ia1 = m.createInitialAssignment()
    ia1.setSymbol( "p1")
    math = libsbml.parseFormula("3/3")
    ia1.setMath(math)
    ia2 = m.createInitialAssignment()
    ia2.setSymbol( "p2")
    math1 = libsbml.parseFormula("3 + 2")
    ia2.setMath(math1)
    ia3 = m.createInitialAssignment()
    ia3.setSymbol( "p3")
    math2 = libsbml.parseFormula("pow(2,3)")
    ia3.setMath(math2)
    self.assertTrue( m.getNumInitialAssignments() == 3 )
    self.assertTrue( m.getParameter(0).getValue() == 1 )
    self.assertTrue( m.getParameter(1).getValue() == 4.6 )
    self.assertTrue( m.getParameter(2).isSetValue() == False )
    self.assertTrue( d.setLevelAndVersion(1,2,True) == True )
    self.assertTrue( d.getLevel() == 1 )
    self.assertTrue( d.getVersion() == 2 )
    m1 = d.getModel()
    self.assertTrue( m1.getNumInitialAssignments() == 0 )
    self.assertTrue( m1.getParameter(0).getValue() == 1 )
    self.assertTrue( m1.getParameter(1).getValue() == 5 )
    self.assertTrue( m1.getParameter(2).isSetValue() == True )
    self.assertTrue( m1.getParameter(2).getValue() == 8 )
    _dummyList = [ d ]; _dummyList[:] = []; del _dummyList
    _dummyList = [ math ]; _dummyList[:] = []; del _dummyList
    _dummyList = [ math1 ]; _dummyList[:] = []; del _dummyList
    _dummyList = [ math2 ]; _dummyList[:] = []; del _dummyList
    pass  

  def test_SBMLConvertStrict_convertInitialAssignmentsToL2(self):
    d = libsbml.SBMLDocument(3,1)
    m = d.createModel()
    p1 = m.createParameter()
    p1.setId( "p1")
    p1.setConstant(True)
    p1.setValue(1)
    p2 = m.createParameter()
    p2.setId( "p2")
    p2.setConstant(True)
    p2.setValue(4.6)
    p3 = m.createParameter()
    p3.setId( "p3")
    p3.setConstant(True)
    p4 = m.createParameter()
    p4.setId( "p4")
    p4.setConstant(True)
    p5 = m.createParameter()
    p5.setId( "p5")
    p5.setConstant(True)
    p6 = m.createParameter()
    p6.setId( "p6")
    p6.setConstant(True)
    ia1 = m.createInitialAssignment()
    ia1.setSymbol( "p1")
    math = libsbml.parseFormula("piecewise(1, and(), 0)")
    ia1.setMath(math)
    ia2 = m.createInitialAssignment()
    ia2.setSymbol( "p2")
    math1 = libsbml.parseFormula("piecewise(1, or(), 0)")
    ia2.setMath(math1)
    ia3 = m.createInitialAssignment()
    ia3.setSymbol( "p3")
    math2 = libsbml.parseFormula("piecewise(1, xor(),  0)")
    ia3.setMath(math2)
    ia4 = m.createInitialAssignment()
    ia4.setSymbol( "p4")
    math3 = libsbml.parseFormula("piecewise(1, and(true), 0)")
    ia4.setMath(math3)
    ia5 = m.createInitialAssignment()
    ia5.setSymbol( "p5")
    math4 = libsbml.parseFormula("piecewise(1, or(false), 0)")
    ia5.setMath(math4)
    ia6 = m.createInitialAssignment()
    ia6.setSymbol( "p6")
    math5 = libsbml.parseFormula("piecewise(1, xor(true),  0)")
    ia6.setMath(math5)
    self.assertTrue( m.getNumInitialAssignments() == 6 )
    self.assertTrue( d.setLevelAndVersion(2,1,True) == True )
    self.assertTrue( d.getLevel() == 2 )
    self.assertTrue( d.getVersion() == 1 )
    m1 = d.getModel()
    self.assertTrue( m1.getNumInitialAssignments() == 0 )
    self.assertTrue( m1.getParameter(0).getValue() == 1 )
    self.assertTrue( m1.getParameter(1).getValue() == 0 )
    self.assertTrue( m1.getParameter(2).isSetValue() == True )
    self.assertTrue( m1.getParameter(2).getValue() == 0 )
    self.assertTrue( m1.getParameter(3).getValue() == 1 )
    self.assertTrue( m1.getParameter(4).getValue() == 0 )
    self.assertTrue( m1.getParameter(5).getValue() == 1 )
    _dummyList = [ d ]; _dummyList[:] = []; del _dummyList
    _dummyList = [ math ]; _dummyList[:] = []; del _dummyList
    _dummyList = [ math1 ]; _dummyList[:] = []; del _dummyList
    _dummyList = [ math2 ]; _dummyList[:] = []; del _dummyList
    _dummyList = [ math3 ]; _dummyList[:] = []; del _dummyList
    _dummyList = [ math4 ]; _dummyList[:] = []; del _dummyList
    _dummyList = [ math5 ]; _dummyList[:] = []; del _dummyList
    pass  

  def test_SBMLConvertStrict_convertInitialAssignmentsUsingRnId(self):
    d = libsbml.SBMLDocument(3,1)
    m = d.createModel()
    c = m.createCompartment()
    c.setId( "c")
    c.setSpatialDimensions(3)
    c.setConstant(True)
    s = m.createSpecies()
    s.setId( "s")
    s.setCompartment( "c")
    s.setHasOnlySubstanceUnits(False)
    s.setBoundaryCondition(False)
    s.setConstant(False)
    r = m.createReaction()
    r.setId( "r")
    r.setReversible(False)
    r.setFast(False)
    sr = r.createReactant()
    sr.setSpecies( "s")
    sr.setConstant(True)
    sr.setStoichiometry(1)
    kl = r.createKineticLaw()
    math = libsbml.parseFormula("3")
    kl.setMath(math)
    p = m.createParameter()
    p.setId( "p")
    p.setConstant(False)
    ia1 = m.createInitialAssignment()
    ia1.setSymbol( "p")
    math1 = libsbml.parseFormula("3/r")
    ia1.setMath(math1)
    self.assertTrue( m.getNumInitialAssignments() == 1 )
    self.assertTrue( m.getParameter(0).isSetValue() == False )
    self.assertTrue( d.setLevelAndVersion(1,2,True) == True )
    self.assertTrue( d.getLevel() == 1 )
    self.assertTrue( d.getVersion() == 2 )
    m1 = d.getModel()
    self.assertTrue( m1.getNumInitialAssignments() == 0 )
    self.assertTrue( m1.getParameter(0).isSetValue() == True )
    self.assertEqual( True, util_isEqual )
    _dummyList = [ d ]; _dummyList[:] = []; del _dummyList
    _dummyList = [ math ]; _dummyList[:] = []; del _dummyList
    _dummyList = [ math1 ]; _dummyList[:] = []; del _dummyList
    pass  

  def test_SBMLConvertStrict_convertL1ParamRule(self):
    d = libsbml.SBMLDocument(1,2)
    m = d.createModel()
    c = m.createCompartment()
    c.setId( "c")
    p = m.createParameter()
    p.setId( "p")
    p1 = m.createParameter()
    p1.setId( "p1")
    math = libsbml.parseFormula("p")
    ar = m.createAssignmentRule()
    ar.setVariable( "p1")
    ar.setMath(math)
    ar.setUnits( "mole")
    self.assertTrue( d.setLevelAndVersion(2,1,True) == True )
    self.assertTrue( d.getLevel() == 2 )
    self.assertTrue( d.getVersion() == 1 )
    r1 = d.getModel().getRule(0)
    self.assertTrue( r1.getUnits() == "" )
    _dummyList = [ d ]; _dummyList[:] = []; del _dummyList
    _dummyList = [ math ]; _dummyList[:] = []; del _dummyList
    pass  

  def test_SBMLConvertStrict_convertNonStrictSBO1(self):
    d = libsbml.SBMLDocument(2,4)
    m = d.createModel()
    c = m.createCompartment()
    c.setId( "c")
    c.setConstant(False)
    (c).setSBOTerm(64)
    self.assertTrue( d.setLevelAndVersion(2,3,True) == False )
    self.assertTrue( d.getLevel() == 2 )
    self.assertTrue( d.getVersion() == 4 )
    self.assertTrue( d.setLevelAndVersion(2,2,True) == False )
    self.assertTrue( d.getLevel() == 2 )
    self.assertTrue( d.getVersion() == 4 )
    self.assertTrue( d.setLevelAndVersion(2,1,True) == True )
    self.assertTrue( d.getLevel() == 2 )
    self.assertTrue( d.getVersion() == 1 )
    c1 = d.getModel().getCompartment(0)
    self.assertTrue( (c1).getSBOTerm() == -1 )
    _dummyList = [ d ]; _dummyList[:] = []; del _dummyList
    pass  

  def test_SBMLConvertStrict_convertNonStrictSBO2(self):
    d = libsbml.SBMLDocument(2,4)
    m = d.createModel()
    c = m.createCompartment()
    c.setId( "c")
    c.setConstant(False)
    (c).setSBOTerm(64)
    self.assertTrue( d.setLevelAndVersion(1,2,True) == True )
    self.assertTrue( d.getLevel() == 1 )
    self.assertTrue( d.getVersion() == 2 )
    c2 = d.getModel().getCompartment(0)
    self.assertTrue( (c2).getSBOTerm() == -1 )
    _dummyList = [ d ]; _dummyList[:] = []; del _dummyList
    pass  

  def test_SBMLConvertStrict_convertNonStrictUnits(self):
    d = libsbml.SBMLDocument(2,4)
    m = d.createModel()
    c = m.createCompartment()
    c.setId( "c")
    c.setConstant(False)
    p = m.createParameter()
    p.setId( "p")
    p.setUnits( "mole")
    math = libsbml.parseFormula("p")
    ar = m.createAssignmentRule()
    ar.setVariable( "c")
    ar.setMath(math)
    self.assertTrue( d.setLevelAndVersion(2,1,True) == False )
    self.assertTrue( d.getLevel() == 2 )
    self.assertTrue( d.getVersion() == 4 )
    self.assertTrue( d.setLevelAndVersion(2,2,True) == False )
    self.assertTrue( d.getLevel() == 2 )
    self.assertTrue( d.getVersion() == 4 )
    self.assertTrue( d.setLevelAndVersion(2,3,True) == False )
    self.assertTrue( d.getLevel() == 2 )
    self.assertTrue( d.getVersion() == 4 )
    self.assertTrue( d.setLevelAndVersion(1,2,True) == False )
    self.assertTrue( d.getLevel() == 2 )
    self.assertTrue( d.getVersion() == 4 )
    _dummyList = [ d ]; _dummyList[:] = []; del _dummyList
    _dummyList = [ math ]; _dummyList[:] = []; del _dummyList
    pass  

  def test_SBMLConvertStrict_convertSBO1(self):
    d = libsbml.SBMLDocument(2,4)
    m = d.createModel()
    c = m.createCompartment()
    c.setId( "c")
    (c).setSBOTerm(240)
    self.assertTrue( d.setLevelAndVersion(2,3,True) == True )
    self.assertTrue( d.getLevel() == 2 )
    self.assertTrue( d.getVersion() == 3 )
    c1 = d.getModel().getCompartment(0)
    self.assertTrue( (c1).getSBOTerm() == 240 )
    _dummyList = [ d ]; _dummyList[:] = []; del _dummyList
    pass  

  def test_SBMLConvertStrict_convertSBO2(self):
    d = libsbml.SBMLDocument(2,4)
    m = d.createModel()
    c = m.createCompartment()
    c.setId( "c")
    (c).setSBOTerm(240)
    self.assertTrue( d.setLevelAndVersion(2,2,True) == True )
    self.assertTrue( d.getLevel() == 2 )
    self.assertTrue( d.getVersion() == 2 )
    c1 = d.getModel().getCompartment(0)
    self.assertTrue( (c1).getSBOTerm() == -1 )
    _dummyList = [ d ]; _dummyList[:] = []; del _dummyList
    pass  

  def test_SBMLConvertStrict_convertSpeciesReferenceIdsUsedInMath(self):
    d = libsbml.SBMLDocument(3,1)
    m = d.createModel()
    c = m.createCompartment()
    c.setId( "c")
    c.setSpatialDimensions(3)
    c.setConstant(True)
    s = m.createSpecies()
    s.setId( "s")
    s.setCompartment( "c")
    s.setHasOnlySubstanceUnits(False)
    s.setBoundaryCondition(False)
    s.setConstant(False)
    r = m.createReaction()
    r.setId( "r")
    r.setReversible(False)
    r.setFast(False)
    sr = r.createReactant()
    sr.setId( "XREF")
    sr.setSpecies( "s")
    sr.setConstant(False)
    sr.setStoichiometry(1.0)
    ia = m.createInitialAssignment()
    ia.setSymbol( "c")
    math = libsbml.parseFormula("XREF*2")
    ia.setMath(math)
    _dummyList = [ math ]; _dummyList[:] = []; del _dummyList
    self.assertTrue( d.setLevelAndVersion(1,2,True) == False )
    self.assertTrue( d.setLevelAndVersion(2,1,True) == False )
    self.assertTrue( d.setLevelAndVersion(2,2,True) == False )
    self.assertTrue( d.setLevelAndVersion(2,3,True) == False )
    self.assertTrue( d.setLevelAndVersion(2,4,True) == False )
    self.assertTrue( d.setLevelAndVersion(2,5,True) == False )
    _dummyList = [ d ]; _dummyList[:] = []; del _dummyList
    pass  

  def test_SBMLConvertStrict_convertToL1(self):
    d = libsbml.SBMLDocument(2,2)
    m = d.createModel()
    (m).setMetaId( "_m")
    c = m.createCompartment()
    c.setId( "c")
    (c).setSBOTerm(240)
    s = m.createSpecies()
    s.setId( "s")
    s.setCompartment( "c")
    self.assertTrue( d.setLevelAndVersion(1,2,True) == True )
    self.assertTrue( d.getLevel() == 1 )
    self.assertTrue( d.getVersion() == 2 )
    m1 = d.getModel()
    self.assertTrue( (m1).getMetaId() == "" )
    c1 = m1.getCompartment(0)
    self.assertTrue( (c1).getSBOTerm() == -1 )
    _dummyList = [ d ]; _dummyList[:] = []; del _dummyList
    pass  

def suite():
  suite = unittest.TestSuite()
  suite.addTest(unittest.makeSuite(TestSBMLConvertStrict))

  return suite

if __name__ == "__main__":
  if unittest.TextTestRunner(verbosity=1).run(suite()).wasSuccessful() :
    sys.exit(0)
  else:
    sys.exit(1)
